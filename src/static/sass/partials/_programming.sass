.programming-body
  flex: 1
  display: flex
  height: 65vh

/* Media Queries

=mq-xs
  @media (min-width: 320px)
    @content

=mq-sm
  @media (min-width: 480px)
    @content

=mq-md
  @media (min-width: 720px)
    @content

=mq-lg
  @media (min-width: 1000px)
    @content

$background: white
$box-shadow: 0px 1px 22px 4px rgba(0, 0, 0, 0.07)
$border: 1px solid rgba(191, 191, 191, 0.4)
$items: 4
$rows: ceil($items / 2)

/* Card sizing

$card-height: 500px
$card-width: $content-width - 100px
$inner-margin: 15px
$number-size: 35px
$stagger: 180px
$outer-margin: 90px
$marker-size: 9px

/* Colors

$steps: #46b8e9
$colors: $recon, $raise, $riverside, $projects

$timeline: #bdbdbd

/* Calculations

$container-height: $rows * ($card-height + $outer-margin) + $stagger * $rows
$container-width: $card-width * 2 + $outer-margin * 3
$head-height: $number-size + 50
$body-height: $card-height - $head-height
$marker-dist: $card-width + $outer-margin / 2 - $marker-size / 2

/* Placeholders

+mq-lg
  %arrow
    position: absolute
    content: ""
    width: 0
    height: 0
    border-top: 10px solid transparent
    border-bottom: 10px solid transparent

  %marker
    position: absolute
    content: ""
    width: $marker-size
    height: $marker-size
    background-color: $timeline
    border-radius: $marker-size
    box-shadow: 0px 0px 2px 8px $background

/* Border Box

*
  box-sizing: border-box

#timeline
  padding-bottom: 100px
  background: $background

  .demo-card-wrapper
    position: relative
    margin: auto

    +mq-lg
      display: flex
      flex-flow: row wrap
      width: $container-width
      height: $container-height
      margin: 0 auto


    &::after
      z-index: 1
      content: ""
      position: absolute
      top: 0
      bottom: 0
      left: 50%
      border-left: $border

      +mq-lg
        border-left: 1px solid $timeline

  .demo-card
    position: relative
    display: block
    margin: 10px auto 80px
    max-width: 94%
    z-index: 2
    flex: 1 0 0

    +mq-sm
      max-width: 60%
      box-shadow: $box-shadow


    +mq-md
      max-width: 40%


    +mq-lg
      max-width: $card-width
      height: $card-height
      margin: $outer-margin
      margin-top: $outer-margin / 2
      margin-bottom: $outer-margin / 2

      &:nth-child(odd)
        margin-right: $outer-margin / 2

        .head::after
          @extend %arrow

          border-left-width: 10px
          border-left-style: solid
          left: 100%

        .head::before
          @extend %marker

          left: $marker-dist + 1

      &:nth-child(even)
        margin-left: $outer-margin / 2
        // left: 50%

        .head::after
          @extend %arrow

          border-right-width: 10px
          border-right-style: solid
          right: 100%

        .head::before
          @extend %marker

          right: $marker-dist - 1

      &:nth-child(even)
        margin-top: $stagger


    .head
      position: relative
      display: flex
      align-items: center
      color: #fff
      font-weight: $mono-header-weight

      +mq-lg
        width: $card-width

      .number-box
        display: inline
        float: left
        margin: $inner-margin
        padding: 10px
        font: $number-size $mono-text-family
        line-height: $number-size
        font-weight: $mono-text-weight
        background: rgba(0, 0, 0, 0.17)

      h2
        text-transform: uppercase
        font-family: $mono-header-family
        font-size: 2rem
        font-weight: inherit
        letter-spacing: 3px
        margin: 0
        padding-bottom: 6px
        line-height: 1rem

        +mq-sm
          font-size: 165%
          line-height: 1.2rem


        span
          display: block
          font-family: $mono-text-family
          font-weight: $mono-text-weight
          font-size: 1rem
          letter-spacing: 5px
          margin: 0


          +mq-sm
            font-size: 0.8rem

    .body
      background: #fff
      border: $border
      border-top: 0
      padding: $inner-margin

      +mq-lg
        height: $body-height

      p
        margin: none
        padding: none

      img
        display: block
        margin: auto
        width: 100%
        object-fit: contain

    @for $i from 1 through $items
      &--step#{$i}
        $color: nth($colors, ($i - 1) % 4 + 1)

        background-color: $color

        .head::after
          border-color: $color
